# UPSC Master - Complete AWS Serverless Application

A comprehensive UPSC preparation platform built with Next.js frontend and AWS serverless backend.

## 🏗️ Architecture

\`\`\`
Frontend (Next.js)     Backend (AWS Serverless)
├── React Components   ├── 22 Lambda Functions
├── Next.js Pages      ├── DynamoDB Tables
├── Tailwind CSS       ├── S3 File Storage
└── NextAuth.js        ├── Cognito Authentication
                       ├── API Gateway
                       └── CloudWatch Monitoring
\`\`\`

## 📁 Project Structure

\`\`\`
upsc-master/
├── frontend/          # Next.js Frontend Application
│   ├── app/          # Next.js 14 App Router
│   ├── components/   # Reusable React Components
│   ├── lib/          # Utilities and API calls
│   └── public/       # Static assets
├── backend/          # AWS Serverless Backend
│   ├── src/          # Lambda function handlers
│   ├── serverless.yml # AWS infrastructure config
│   └── package.json  # Backend dependencies
└── README.md
\`\`\`

## 🚀 Quick Start

### 1. Deploy Backend First
\`\`\`bash
cd backend
npm install
aws configure  # Configure your AWS credentials
npm run deploy:dev
\`\`\`

### 2. Configure Frontend
\`\`\`bash
cd frontend
npm install
cp .env.example .env.local
# Edit .env.local with your API Gateway URL from backend deployment
\`\`\`

### 3. Run Frontend
\`\`\`bash
npm run dev
# Visit http://localhost:3000
\`\`\`

## 🔧 Backend Features (22 Lambda Functions)

### 🔐 Authentication System
- **Cognito Integration** - AWS managed authentication
- **JWT Tokens** - Secure API access
- **Role-based Access** - Admin, User, Moderator roles
- **Email Verification** - Automated user verification

### 📊 Content Management
- **Quiz System** - Create, update, delete quiz questions
- **Interactive Maps** - Geographical learning content
- **File Management** - S3 integration for file uploads
- **CSV Bulk Import** - Mass content upload capability

### 👥 User Management
- **User CRUD** - Complete user lifecycle management
- **Profile Management** - User profiles and preferences
- **Analytics Tracking** - User behavior and engagement
- **Admin Dashboard** - User management interface

### 📈 Analytics & Monitoring
- **Event Tracking** - Custom analytics events
- **Performance Metrics** - System performance monitoring
- **User Engagement** - Detailed user interaction data
- **CloudWatch Integration** - AWS native monitoring

## 🎯 Frontend Features

### 🎨 Modern UI/UX
- **Tailwind CSS** - Utility-first styling
- **Radix UI** - Accessible component library
- **Responsive Design** - Mobile-first approach
- **Dark/Light Mode** - Theme switching capability

### 📚 Educational Content
- **Interactive Quizzes** - Engaging quiz interface
- **Map Visualizations** - Interactive geographical content
- **Progress Tracking** - User learning progress
- **Performance Analytics** - Detailed score analysis

### 🔒 Security Features
- **NextAuth.js** - Authentication framework
- **Protected Routes** - Route-level security
- **CSRF Protection** - Cross-site request forgery protection
- **Input Validation** - Client and server-side validation

## 🛠️ AWS Services Used

### ⚡ Compute
- **AWS Lambda** - Serverless functions (22 functions)
- **API Gateway** - REST API management
- **CloudFront** - CDN for frontend (optional)

### 🗄️ Storage
- **DynamoDB** - NoSQL database (5 tables)
- **S3** - File storage and static hosting
- **CloudWatch** - Logs and monitoring

### 🔐 Security
- **Cognito** - User authentication and management
- **IAM** - Access control and permissions
- **VPC** - Network security (optional)

## 📊 Database Schema

### Users Table
- Primary Key: `id`
- GSI: `email`
- Attributes: name, role, createdAt, isActive

### Quiz Table
- Primary Key: `id`
- GSI: `subject`, `difficulty`
- Attributes: question, options, correctAnswer, explanation

### Maps Table
- Primary Key: `id`
- GSI: `category`, `region`
- Attributes: title, coordinates, markers, zoom

### Files Table
- Primary Key: `id`
- Attributes: filename, s3Key, mimeType, size, uploadedBy

### Analytics Table
- Primary Key: `id`
- Sort Key: `timestamp`
- Attributes: eventType, userId, data, sessionId

## 🚀 Deployment Guide

### Backend Deployment
\`\`\`bash
cd backend
npm install
serverless deploy --stage dev
# Note the API Gateway URL from output
\`\`\`

### Frontend Deployment (Vercel)
\`\`\`bash
cd frontend
npm install
npm run build
# Deploy to Vercel or your preferred platform
\`\`\`

### Environment Variables Setup
1. **Backend**: All variables auto-generated by Serverless
2. **Frontend**: Update `.env.local` with API Gateway URL

## 📈 Performance Optimizations

### Backend
- **Cold Start Optimization** - Minimal dependencies
- **Connection Pooling** - Efficient database connections
- **Caching Strategy** - DynamoDB and API Gateway caching
- **Batch Operations** - Bulk data processing

### Frontend
- **Code Splitting** - Automatic Next.js optimization
- **Image Optimization** - Next.js Image component
- **Static Generation** - Pre-rendered pages where possible
- **Bundle Analysis** - Optimized bundle sizes

## 🔍 Monitoring & Debugging

### CloudWatch Integration
- **Lambda Logs** - Detailed function logging
- **API Gateway Metrics** - Request/response monitoring
- **DynamoDB Metrics** - Database performance
- **Custom Dashboards** - Business metrics visualization

### Error Handling
- **Consistent Error Responses** - Standardized error format
- **Retry Logic** - Automatic retry for transient failures
- **Dead Letter Queues** - Failed message handling
- **Alert System** - Automated error notifications

## 💰 Cost Estimation

### Monthly Costs (Estimated)
- **Lambda**: $5-20 (based on usage)
- **DynamoDB**: $5-15 (pay-per-request)
- **S3**: $1-5 (storage and requests)
- **API Gateway**: $3-10 (per million requests)
- **Cognito**: $0-5 (first 50k users free)

**Total: ~$15-55/month** for moderate usage

## 🤝 Contributing

1. Fork the repository
2. Create feature branch
3. Make changes
4. Test thoroughly
5. Submit pull request

## 📄 License

MIT License - see LICENSE file for details

## 🆘 Support

- **Documentation**: Check README files in each folder
- **Issues**: GitHub Issues for bug reports
- **Discussions**: GitHub Discussions for questions
- **Email**: support@upscmaster.com

---

**Ready to deploy your complete UPSC Master platform! 🚀**
